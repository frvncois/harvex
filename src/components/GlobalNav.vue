<template>
    <div class="nav is-sticky">
        <div class="nav is-wrap">
        <div class="nav is-items">
            <div class="nav is-title">General</div>
            <router-link to="/" class="nav is-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M5,.75H0A.75.75,0,0,1-.75,0,.75.75,0,0,1,0-.75H5A.75.75,0,0,1,5.75,0,.75.75,0,0,1,5,.75Z" transform="translate(9.5 11.5)" fill="currentColor"/><path d="M5,.75H0A.75.75,0,0,1-.75,0,.75.75,0,0,1,0-.75H5A.75.75,0,0,1,5.75,0,.75.75,0,0,1,5,.75Z" transform="translate(9.5 15.5)" fill="currentColor"/><path d="M16.5,21.75h-9A5.256,5.256,0,0,1,2.25,16.5V10.96a5.224,5.224,0,0,1,1.97-4.1L8.408,3.51a5.75,5.75,0,0,1,7.184,0L19.78,6.86a5.224,5.224,0,0,1,1.97,4.1V16.5A5.256,5.256,0,0,1,16.5,21.75ZM12,3.75a4.265,4.265,0,0,0-2.655.931L5.157,8.031A3.732,3.732,0,0,0,3.75,10.96V16.5A3.754,3.754,0,0,0,7.5,20.25h9a3.754,3.754,0,0,0,3.75-3.75V10.96a3.732,3.732,0,0,0-1.407-2.928l-4.188-3.35A4.265,4.265,0,0,0,12,3.75Z" fill="currentColor"/><path d="M0,0H24V24H0Z" fill="none"/></svg>Dashboard</router-link>
            <router-link to="/marketplace" class="nav is-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16,10.75a.75.75,0,0,1-.75-.75V6a3.25,3.25,0,0,0-6.5,0v4a.75.75,0,0,1-1.5,0V6a4.75,4.75,0,0,1,9.5,0v4A.75.75,0,0,1,16,10.75Z" fill="currentColor"/><path d="M19,21.75H5A1.752,1.752,0,0,1,3.25,20V8A1.752,1.752,0,0,1,5,6.25H19A1.752,1.752,0,0,1,20.75,8V20A1.752,1.752,0,0,1,19,21.75ZM5,7.75A.25.25,0,0,0,4.75,8V20a.25.25,0,0,0,.25.25H19a.25.25,0,0,0,.25-.25V8A.25.25,0,0,0,19,7.75Z" fill="currentColor"/><path d="M0,0H24V24H0Z" fill="none"/></svg>Marketplace</router-link>
            <router-link to="/messages" class="nav is-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0,0H24V24H0Z" fill="none"/><path d="M4-.75H14A4.755,4.755,0,0,1,18.75,4v7A4.755,4.755,0,0,1,14,15.75H4A4.755,4.755,0,0,1-.75,11V4A4.755,4.755,0,0,1,4-.75Zm10,15A3.254,3.254,0,0,0,17.25,11V4A3.254,3.254,0,0,0,14,.75H4A3.254,3.254,0,0,0,.75,4v7A3.254,3.254,0,0,0,4,14.25Z" transform="translate(3 4.5)" fill="currentColor"/><path d="M12,11.733a2.751,2.751,0,0,1-1.1-.228L6.7,9.671A.75.75,0,0,1,7.3,8.3l4.2,1.833a1.254,1.254,0,0,0,1,0l4.2-1.817a.75.75,0,0,1,.6,1.377l-4.2,1.817A2.751,2.751,0,0,1,12,11.733Z" fill="currentColor"/></svg>Messages</router-link>
        </div>
        <div class="nav is-items">
            <div class="nav is-title">My account</div>
                <router-link to="/listing" class="nav is-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M0,0H24V24H0Z" fill="none"/><path d="M17,12.75H9.5a.75.75,0,0,1,0-1.5H17a.75.75,0,0,1,0,1.5Z" fill="#323232"/><path d="M17,16.234H9.5a.75.75,0,0,1,0-1.5H17a.75.75,0,0,1,0,1.5Z" fill="#323232"/><path d="M17,9.234H9.5a.75.75,0,0,1,0-1.5H17a.75.75,0,0,1,0,1.5Z" fill="#323232"/><path d="M7.051,9.285a.8.8,0,1,1,.8-.827q0,.013,0,.027A.8.8,0,0,1,7.051,9.285Z" fill="#323232"/><path d="M7.051,12.8a.8.8,0,1,1,.8-.8A.8.8,0,0,1,7.051,12.8Z" fill="#323232"/><path d="M7.051,16.285a.8.8,0,1,1,.8-.827q0,.013,0,.027A.8.8,0,0,1,7.051,16.285Z" fill="#323232"/><path d="M7,2.25H17A4.755,4.755,0,0,1,21.75,7V17A4.755,4.755,0,0,1,17,21.75H7A4.755,4.755,0,0,1,2.25,17V7A4.755,4.755,0,0,1,7,2.25Zm10,18A3.254,3.254,0,0,0,20.25,17V7A3.254,3.254,0,0,0,17,3.75H7A3.254,3.254,0,0,0,3.75,7V17A3.254,3.254,0,0,0,7,20.25Z" fill="#323232"/></svg>My listing</router-link>
                <router-link to="/settings" class="nav is-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.2,2.25h1.6a1.754,1.754,0,0,1,1.647,1.158l.508,1.415a.255.255,0,0,0,.112.132l1.506.87a.252.252,0,0,0,.169.029l1.48-.267a1.75,1.75,0,0,1,1.828.847l.8,1.379a1.754,1.754,0,0,1-.175,2.005L19.7,10.968a.251.251,0,0,0-.06.162v1.74a.25.25,0,0,0,.059.161l.971,1.148a1.755,1.755,0,0,1,.176,2.007l-.8,1.38a1.749,1.749,0,0,1-1.826.846l-1.48-.267a.253.253,0,0,0-.169.03l-1.507.87a.256.256,0,0,0-.112.134l-.507,1.413A1.754,1.754,0,0,1,12.8,21.75H11.2a1.754,1.754,0,0,1-1.647-1.158l-.508-1.415a.258.258,0,0,0-.112-.133l-1.506-.869a.252.252,0,0,0-.169-.03l-1.48.267a1.75,1.75,0,0,1-1.828-.847l-.8-1.379a1.754,1.754,0,0,1,.175-2.005L4.3,13.032a.251.251,0,0,0,.06-.162V11.13a.25.25,0,0,0-.059-.161L3.335,9.817a1.754,1.754,0,0,1-.174-2l.8-1.38a1.749,1.749,0,0,1,1.826-.846l1.48.267a.253.253,0,0,0,.169-.03l1.508-.87a.258.258,0,0,0,.111-.134l.507-1.413A1.757,1.757,0,0,1,11.193,2.25Zm5.5,5.109a1.752,1.752,0,0,1-.875-.234l-1.507-.87a1.759,1.759,0,0,1-.772-.922l-.509-1.417A.25.25,0,0,0,12.8,3.75H11.2a.251.251,0,0,0-.231.165L10.466,5.33a1.764,1.764,0,0,1-.77.923l-1.51.871A1.762,1.762,0,0,1,7,7.331l-1.48-.267a.25.25,0,0,0-.261.121l-.8,1.381a.251.251,0,0,0,.025.287L5.446,10a1.749,1.749,0,0,1,.412,1.127v1.74A1.752,1.752,0,0,1,5.443,14l-.971,1.148a.25.25,0,0,0-.024.285l.8,1.38a.252.252,0,0,0,.262.122l1.481-.267a1.762,1.762,0,0,1,1.185.206l1.508.87a1.764,1.764,0,0,1,.771.922l.509,1.417a.25.25,0,0,0,.235.165h1.6a.251.251,0,0,0,.236-.166l.508-1.415a1.76,1.76,0,0,1,.772-.924l1.508-.87a1.762,1.762,0,0,1,1.185-.207l1.48.267a.25.25,0,0,0,.261-.121l.8-1.381a.251.251,0,0,0-.025-.287L18.556,14a1.752,1.752,0,0,1-.414-1.13V11.13A1.752,1.752,0,0,1,18.557,10l.971-1.148a.25.25,0,0,0,.024-.285l-.8-1.38a.252.252,0,0,0-.262-.122l-1.481.267A1.756,1.756,0,0,1,16.7,7.359Z" fill="currentColor"/><path d="M2.75-.75a3.5,3.5,0,1,1-3.5,3.5A3.5,3.5,0,0,1,2.75-.75Zm0,5.5a2,2,0,1,0-2-2A2,2,0,0,0,2.75,4.75Z" transform="translate(9.25 9.25)" fill="currentColor"/><rect width="24" height="24" fill="none"/></svg>Settings</router-link>
            </div>
            <div class="nav is-items">
            <div @click="logout" class="nav is-item">Logout</div>
        </div>
        </div>
    </div>
  </template>
  
  <script setup>
  import { signOut } from "firebase/auth"
  import { auth } from '@/firebase.js'
  import { useRouter } from 'vue-router'
  
  const router = useRouter()
  
  const logout = async () => {
    try {
      await signOut(auth)
      router.push('/')
    } catch (error) {
      console.error("Error logging out:", error)
    }
  }
  </script>